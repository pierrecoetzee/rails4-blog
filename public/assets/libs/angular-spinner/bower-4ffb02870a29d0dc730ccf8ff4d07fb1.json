!function(n){"use strict";function i(n,i){return n.module("angularSpinner",[]).provider("usSpinnerConfig",function(){var n={};return{setDefaults:function(i){n=i||n},$get:function(){return{config:n}}}}).factory("usSpinnerService",["$rootScope",function(n){var i={};return i.spin=function(i){n.$broadcast("us-spinner:spin",i)},i.stop=function(i){n.$broadcast("us-spinner:stop",i)},i}]).directive("usSpinner",["$window","usSpinnerConfig",function(e,t){return{scope:!0,link:function(r,s,o){function p(){r.spinner&&r.spinner.stop()}var u=i||e.Spinner;r.spinner=null,r.key=n.isDefined(o.spinnerKey)?o.spinnerKey:!1,r.startActive=n.isDefined(o.spinnerStartActive)?r.$eval(o.spinnerStartActive):r.key?!1:!0,r.spin=function(){r.spinner&&r.spinner.spin(s[0])},r.stop=function(){r.startActive=!1,p()},r.$watch(o.usSpinner,function(n){p(),n=n||{};for(var i in t.config)void 0===n[i]&&(n[i]=t.config[i]);r.spinner=new u(n),(!r.key||r.startActive)&&r.spinner.spin(s[0])},!0),r.$on("us-spinner:spin",function(n,i){i===r.key&&r.spin()}),r.$on("us-spinner:stop",function(n,i){i===r.key&&r.stop()}),r.$on("$destroy",function(){r.stop(),r.spinner=null})}}}])}"function"==typeof define&&define.amd?define(["angular","spin"],i):i(n.angular)}(window);