/**
 * angular-spinner version 0.6.1
 * License: MIT.
 * Copyright (C) 2013, 2014, Uri Shaked and contributors.
 */
!function(root){"use strict";function factory(angular,Spinner){return angular.module("angularSpinner",[]).provider("usSpinnerConfig",function(){var _config={};return{setDefaults:function(config){_config=config||_config},$get:function(){return{config:_config}}}}).factory("usSpinnerService",["$rootScope",function($rootScope){var config={};return config.spin=function(key){$rootScope.$broadcast("us-spinner:spin",key)},config.stop=function(key){$rootScope.$broadcast("us-spinner:stop",key)},config}]).directive("usSpinner",["$window","usSpinnerConfig",function($window,usSpinnerConfig){return{scope:!0,link:function(scope,element,attr){function stopSpinner(){scope.spinner&&scope.spinner.stop()}var SpinnerConstructor=Spinner||$window.Spinner;scope.spinner=null,scope.key=angular.isDefined(attr.spinnerKey)?attr.spinnerKey:!1,scope.startActive=angular.isDefined(attr.spinnerStartActive)?scope.$eval(attr.spinnerStartActive):scope.key?!1:!0,scope.spin=function(){scope.spinner&&scope.spinner.spin(element[0])},scope.stop=function(){scope.startActive=!1,stopSpinner()},scope.$watch(attr.usSpinner,function(options){stopSpinner(),options=options||{};for(var property in usSpinnerConfig.config)void 0===options[property]&&(options[property]=usSpinnerConfig.config[property]);scope.spinner=new SpinnerConstructor(options),(!scope.key||scope.startActive)&&scope.spinner.spin(element[0])},!0),scope.$on("us-spinner:spin",function(event,key){key===scope.key&&scope.spin()}),scope.$on("us-spinner:stop",function(event,key){key===scope.key&&scope.stop()}),scope.$on("$destroy",function(){scope.stop(),scope.spinner=null})}}}])}"function"==typeof define&&define.amd?define(["angular","spin"],factory):factory(root.angular)}(window);