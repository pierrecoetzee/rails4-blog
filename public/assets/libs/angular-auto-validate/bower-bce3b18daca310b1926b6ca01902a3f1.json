!function(e){"use strict";e.module("jcs-autoValidate",[])}(angular),function(e){"use strict";e.module("jcs-autoValidate").provider("validator",[function(){var t={},r=!0,o=!0,a=!0,n=function(e){var t;return e&&0!==e.length?(t=e.toLowerCase(),e=!("f"===t||"0"===t||"false"===t)):e=!1,e},i=function(e,t){var r;return void 0!==e&&(r=e.attr(t)||e.attr("data-"+t)),r},l=function(e,t){var r;return void 0!==e&&(r=void 0!==e.attr(t)||void 0!==e.attr("data-"+t)),r},s=function(e,t){return n(i(e,t))},u=function(e){return r&&!s(e,"disable-valid-styling")},d=function(e){return o&&!s(e,"disable-invalid-styling")};this.enable=function(e){a=e},this.isEnabled=function(){return a},this.setDefaultElementModifier=function(e){if(void 0===t[e])throw new Error("Element modifier not registered: "+e);this.defaultElementModifier=e},this.registerDomModifier=function(e,r){t[e]=r},this.setErrorMessageResolver=function(e){this.errorMessageResolver=e},this.getErrorMessage=function(t,r){var o;if(void 0===this.errorMessageResolver)throw new Error("Please set an error message resolver via the setErrorMessageResolver function before attempting to resolve an error message.");return l(r,"disable-validation-message")?(o=e.injector(["ng"]).get("$q").defer(),o.resolve(""),o.promise):this.errorMessageResolver(t,r)},this.setValidElementStyling=function(e){r=e},this.setInvalidElementStyling=function(e){o=e},this.getDomModifier=function(e){var r=(void 0!==e?e.attr("element-modifier"):this.defaultElementModifier)||(void 0!==e?e.attr("data-element-modifier"):this.defaultElementModifier)||this.defaultElementModifier;if(void 0===r)throw new Error("Please set a default dom modifier via the setDefaultElementModifier method on the validator class.");return t[r]},this.makeValid=function(e){u(e)?this.getDomModifier(e).makeValid(e):this.makeDefault(e)},this.makeInvalid=function(e,t){d(e)?this.getDomModifier(e).makeInvalid(e,t):this.makeDefault(e)},this.makeDefault=function(e){var t=this.getDomModifier(e);t.makeDefault&&t.makeDefault(e)},this.defaultFormValidationOptions={forceValidation:!1,disabled:!1,validateNonVisibleControls:!1,removeExternalValidationErrorsOnSubmit:!0},this.$get=[function(){return this}]}])}(angular),function(e){"use strict";e.module("jcs-autoValidate").factory("bootstrap3ElementModifier",["$log",function(t){var r=function(t){e.forEach(t.find("span"),function(t){t=e.element(t),(t.hasClass("error-msg")||t.hasClass("form-control-feedback")||t.hasClass("control-feedback"))&&t.remove()}),t.removeClass("has-success has-error has-feedback")},o=function(e,t){for(var r,o=e,a=0;10>=a;a+=1){if(void 0!==o&&o.hasClass(t)){r=o;break}void 0!==o&&(o=o.parent())}return r},a=function(t,r){for(var o,n=0;n<t.children.length&&(o=t.children[n],void 0===o||!e.element(o).hasClass(r))&&!(void 0!==o.children&&(o=a(o,r),o.length>0));n+=1);return e.element(o)},n=function(e){return o(e,"form-group")},i=function(e){return a(e,"input-group")},l=function(e,t){e[0].parentNode.insertBefore(t[0],e[0].nextSibling)},s=!1,u=function(e){s=e},d=function(o){var a,u=n(o);if(u){if(r(u),a=i(u[0]),u.addClass("has-success "+(a.length>0?"":"has-feedback")),s){var d='<span class="glyphicon glyphicon-ok form-control-feedback"></span>';a.length>0&&(d=d.replace("form-",""),d='<span class="input-group-addon control-feedback">'+d+"</span"),l(o,e.element(d))}}else t.error("Angular-auto-validate: invalid bs3 form structure elements must be wrapped by a form-group class")},f=function(o,a){var u,d=n(o),f=e.element('<span class="help-block has-error error-msg">'+a+"</span>");if(d){if(r(d),u=i(d[0]),d.addClass("has-error "+(u.length>0?"":"has-feedback")),l(u.length>0?u:o,f),s){var c='<span class="glyphicon glyphicon-remove form-control-feedback"></span>';u.length>0&&(c=c.replace("form-",""),c='<span class="input-group-addon control-feedback">'+c+"</span"),l(o,e.element(c))}}else t.error("Angular-auto-validate: invalid bs3 form structure elements must be wrapped by a form-group class")},c=function(e){var o=n(e);o?r(o):t.error("Angular-auto-validate: invalid bs3 form structure elements must be wrapped by a form-group class")};return{makeValid:d,makeInvalid:f,makeDefault:c,enableValidationStateIcons:u,key:"bs3"}}])}(angular),function(e){"use strict";e.module("jcs-autoValidate").factory("jcs-debounce",["$timeout",function(t){var r=function(r,o,a){o=e.isUndefined(o)?0:o,a=e.isUndefined(a)?!0:a;var n=0;return function(){var e=this,i=arguments;n+=1;var l=function(t){return function(){return t===n?r.apply(e,i):void 0}}(n);return t(l,o,a)}};return{debounce:r}}])}(angular),function(e,t){"use strict";"format"in e.prototype||(e.prototype.format=function(){var e=arguments;return this.replace(/{(\d+)}/g,function(t,r){return void 0!==typeof e[r]?e[r]:t})}),t.autoValidate=t.autoValidate||{errorMessages:{}},t.autoValidate.errorMessages["en-us"]=t.autoValidate.errorMessages["en-gb"]={defaultMsg:"Please add error message for {0}",email:"Please enter a valid email address",minlength:"Please enter at least {0} characters",maxlength:"You have entered more than the maximum {0} characters",min:"Please enter the minimum number of {0}",max:"Please enter the maximum number of {0}",required:"This field is required",date:"Please enter a valid date",pattern:"Please ensure the entered information adheres to this pattern {0}",number:"Please enter a valid number",url:"Please enter a valid URL in the format of http(s)://www.google.com"},t.module("jcs-autoValidate").factory("defaultErrorMessageResolver",["$q","$http",function(e,r){var o,a="en-gb",n="js/angular-auto-validate/dist/lang",i=function(e){return o=r.get("{0}/jcs-auto-validate_{1}.json".format(n,e.toLowerCase()))},l=function(e){n=e},s=function(r,n){var l=e.defer();return n=n||i,a=r.toLowerCase(),void 0===t.autoValidate.errorMessages[a]?(o=n(r),o.then(function(e){o=void 0,t.autoValidate.errorMessages[a]=e.data,l.resolve(t.autoValidate.errorMessages[a])},function(e){t.autoValidate.errorMessages[a]={defaultMsg:"Loading culture failed!"},o=null,l.reject(e)})):l.resolve(t.autoValidate.errorMessages[a]),l.promise},u=function(r){var n=e.defer();return r=void 0===r?a:r.toLowerCase(),void 0!==o?o.then(function(){n.resolve(t.autoValidate.errorMessages[r])},function(e){n.reject(e)}):n.resolve(t.autoValidate.errorMessages[r]),n.promise},d=function(e,t){var r;return t&&(e+="-err-type",r=t.attr("ng-"+e),void 0===r&&(r=t.attr("data-ng-"+e)||t.attr(e)),r&&(r=r.replace(/[\W]/g,""))),r},f=function(r,n){var i,l,s,u=e.defer(),c=[];if(void 0!==o)o.then(function(){f(r,n).then(function(e){u.resolve(e)})});else{if(i=t.autoValidate.errorMessages[a][r],s=d(r,n),s&&(i=t.autoValidate.errorMessages[a][s]),void 0===i&&(i=t.autoValidate.errorMessages[a].defaultMsg.format(r)),n&&n.attr)try{l=n.attr("ng-"+r),void 0===l&&(l=n.attr("data-ng-"+r)||n.attr(r)),c.push(l||""),i=i.format(c)}catch(m){}u.resolve(i)}return u.promise};return{setI18nFileRootPath:l,setCulture:s,getErrorMessages:u,resolve:f}}])}(String,angular),function(e){"use strict";e.module("jcs-autoValidate").factory("foundation5ElementModifier",[function(){var t=function(t,r){e.forEach(t.find("small"),function(t){e.element(t).hasClass("error")&&e.element(t).remove()}),r.removeClass("error")},r=function(e){for(var t=e,r=0;3>=r&&(void 0===t||!t.hasClass("columns"));r+=1)void 0!==t&&(t=t.parent());return t},o=function(e){var o=r(e);t(o&&o.length>0?o:e,e)},a=function(o,a){var n,i=r(o);t(i||o,o),o.addClass("error"),i&&(n=e.element('<small class="error">'+a+"</small>"),i.append(n))},n=function(e){o(e)};return{makeValid:o,makeInvalid:a,makeDefault:n,key:"foundation5"}}])}(angular),function(e){"use strict";e.module("jcs-autoValidate").factory("jcs-elementUtils",[function(){var e=function(e){return e[0].offsetWidth>0&&e[0].offsetHeight>0};return{isElementVisible:e}}]),e.module("jcs-autoValidate").factory("validationManager",["validator","jcs-elementUtils",function(t,r){var o=["input","textarea","select","form"],a=function(e){return r.isElementVisible(e)},n=function(r){var o=e.element(r).controller("form");return void 0!==o&&null!==o?o.autoValidateFormOptions:t.defaultFormValidationOptions},i=function(e,t){var r=e&&e.length>0&&(a(e)||t.validateNonVisibleControls)&&(o.indexOf(e[0].nodeName.toLowerCase())>-1||e[0].hasAttribute("register-custom-form-control"));return r},l=function(r,o,a){var l,s=!0,u=a||n(o),d=r.$pristine===!1||u.forceValidation,f=function(t){var r,o=!0;return e.forEach(t,function(e,t){o&&e&&(o=!1,r=t)}),r};return u.disabled===!1&&(u.forceValidation||i(o,u)&&r&&d)&&(s=!r.$invalid,u.removeExternalValidationErrorsOnSubmit&&r.removeAllExternalValidation&&r.removeAllExternalValidation(),s?t.makeValid(o):(l=f(r.$errors||r.$error),void 0===l?s=!0:t.getErrorMessage(l,o).then(function(e){t.makeInvalid(o,e)}))),s},s=function(e){t.makeDefault(e)},u=function(t){e.forEach(t[0].all||t[0].elements||t[0],function(t){var r,o=e.element(t);r=o.controller("ngModel"),void 0!==r&&("form"===o[0].nodeName.toLowerCase()?u(o):r.$setPristine())})},d=function(t){var r,o=!0,a=t?e.element(t).controller("form"):void 0,s=function(t,r,a){var s,u,f;t=e.element(t),s=t.controller("ngModel"),void 0!==s&&(r||i(t,a))&&("form"===t[0].nodeName.toLowerCase()?d(t):(f=n(t),f.forceValidation=r,u=l(s,t,f),o=o&&u))};return void 0===t||void 0!==a&&a.autoValidateFormOptions.disabled?void 0!==t:(r=e.copy(a.autoValidateFormOptions),r.forceValidation=!0,e.forEach(t[0].all||t[0].elements||t[0],function(e){s(e,!0,r)}),t[0].customHTMLFormControlsCollection&&e.forEach(t[0].customHTMLFormControlsCollection,function(e){s(e,!0,r)}),o)},f=function(e,r,o){r?t.getErrorMessage(r,e).then(function(r){t.makeInvalid(e,r)}):t.makeInvalid(e,o)};return{setElementValidationError:f,validateElement:l,validateForm:d,resetElement:s,resetForm:u}}])}(angular),function(e){"use strict";function t(e){return void 0!==e&&"false"!==e}function r(r,o,a){var n=r.autoValidateFormOptions=r.autoValidateFormOptions||e.copy(o.defaultFormValidationOptions);n.forceValidation=!1,n.disabled=!o.isEnabled()||t(a.disableDynamicValidation),n.validateNonVisibleControls=t(a.validateNonVisibleControls),n.removeExternalValidationErrorsOnSubmit=void 0===a.removeExternalValidationErrorsOnSubmit?!0:t(a.removeExternalValidationErrorsOnSubmit),o.isEnabled()===!1&&t(a.disableDynamicValidation)===!1&&(n.disabled=!1)}e.module("jcs-autoValidate").directive("form",["validator",function(e){return{restrict:"E",require:"form",priority:9999,compile:function(){return{pre:function(t,o,a,n){r(n,e,a)}}}}}]),e.module("jcs-autoValidate").directive("ngForm",["validator",function(e){return{restrict:"EA",require:"form",priority:9999,compile:function(){return{pre:function(t,o,a,n){r(n,e,a)}}}}}])}(angular),function(e){"use strict";e.module("jcs-autoValidate").directive("form",["validationManager",function(e){return{restrict:"E",link:function(t,r){var o=r.controller("form");void 0!==o&&o.autoValidateFormOptions&&o.autoValidateFormOptions.disabled===!1&&(r.on("reset",function(){e.resetForm(r)}),t.$on("$destroy",function(){r.off("reset")}))}}}])}(angular),function(e){"use strict";e.module("jcs-autoValidate").directive("registerCustomFormControl",[function(){var t=function(t){for(var r=t,o=0;50>=o&&(void 0===r||"form"!==r.nodeName.toLowerCase());o+=1)void 0!==r&&(r=e.element(r).parent()[0]);return r};return{restrict:"A",link:function(e,r){var o=t(r.parent()[0]);o&&(o.customHTMLFormControlsCollection=o.customHTMLFormControlsCollection||[],o.customHTMLFormControlsCollection.push(r[0]))}}}])}(angular),function(e){"use strict";e.module("jcs-autoValidate").config(["$provide",function(e){e.decorator("ngSubmitDirective",["$delegate","$parse","validationManager",function(e,t,r){return e[0].compile=function(e,o){var a=t(o.ngSubmit),n="true"===o.ngSubmitForce;return function(t,o){function i(i){t.$apply(function(){var l=e.controller("form");void 0!==l&&null!==l&&l.autoValidateFormOptions&&l.autoValidateFormOptions.disabled===!0?a(t,{$event:i}):(r.validateForm(o)||n===!0)&&a(t,{$event:i})})}o.on("submit",i),t.$on("$destroy",function(){o.off("submit",i)})}},e}])}])}(angular),function(e){"use strict";e.module("jcs-autoValidate").config(["$provide",function(t){t.decorator("ngModelDirective",["$timeout","$delegate","validationManager","jcs-debounce",function(t,r,o,a){var n=r[0],i=n.link||n.compile;return n.compile=function(t){return function(r,n,l,s){var u=s[0],d=s[1],f=e.version.major>=1&&e.version.minor>=3,c=void 0===l.ngModelOptions?void 0:r.$eval(l.ngModelOptions),m=u.$setValidity,v=u.$setPristine,g=a.debounce(function(){var e=void 0!==d&&null!==d?d.autoValidateFormOptions:void 0;o.validateElement(u,n,e)},100);f&&e.isFunction(i)&&(i=i(t)),i.pre&&(i.pre.apply(this,arguments),c=void 0===u.$options?void 0:u.$options),void 0===l.formnovalidate&&void 0!==d&&null!==d&&d.autoValidateFormOptions&&d.autoValidateFormOptions.disabled===!1&&(f||void 0===c||void 0===c.updateOn||""===c.updateOn?u.$setValidity=function(e,t){m.call(u,e,t),g()}:(n.on(c.updateOn,function(){g()}),r.$on("$destroy",function(){n.off(c.updateOn)})),u.$setPristine=function(){v.call(u),o.resetElement(n)},u.autoValidated=!0),i.post?i.post.apply(this,arguments):i.apply(this,arguments),u.setExternalValidation=function(e,t,r){if(r){var a=u.$error||u.$errors;a[e]=!1}u.externalErrors=u.externalErrors||{},u.externalErrors[e]=!1,o.setElementValidationError(n,e,t)},u.removeExternalValidation=function(e,t){if(t){var r=u.$error||u.$errors;r[e]=!0}u.externalErrors&&delete u.externalErrors[e],o.resetElement(n)},u.removeAllExternalValidation=function(){if(u.externalErrors){var t=u.$error||u.$errors;e.forEach(u.externalErrors,function(e,r){t[r]=!0}),u.externalErrors={},o.resetElement(n)}},d&&(d.setExternalValidation=function(e,t,r,o){var a=!1;return d[e]&&(d[e].setExternalValidation(t,r,o),a=!0),a},d.removeExternalValidation=function(e,t,r,o){var a=!1;return d[e]&&(d[e].removeExternalValidation(t,o),a=!0),a})}},r}])}])}(angular),function(e){"use strict";e.module("jcs-autoValidate").run(["validator","defaultErrorMessageResolver","bootstrap3ElementModifier","foundation5ElementModifier",function(e,t,r,o){e.setErrorMessageResolver(t.resolve),e.registerDomModifier(r.key,r),e.registerDomModifier(o.key,o),e.setDefaultElementModifier(r.key)}])}(angular);